<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ガチャポン v7.7</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ▼ ナビゲーション -->
<div class="tabMenu">
    <button class="tabBtn" onclick="openTab('gachaTab')">ガチャポン</button>
    <button class="tabBtn" onclick="openTab('collectionTab')">マイコレクション</button>
    <button class="tabBtn" onclick="openTab('adminTab')">管理</button>
</div>

<!-- ---------------------------------------------------------
     ▼ ガチャTAB
---------------------------------------------------------- -->
<div id="gachaTab" class="tab page">

    <h2 class="tabTitle">ガチャポン</h2>

    <div id="completeText" class="completeText"></div>

    <div id="gachaContainer">
        <img id="gachaImage" src="/gachapon.png">

        <!-- 演出（筐体上に重ねる） -->
        <video id="effectVideo" class="overlayVideo" playsinline webkit-playsinline></video>

        <!-- 初ゲット動画 -->
        <video id="prizeVideo" class="overlayVideo" playsinline webkit-playsinline></video>

        <!-- 被りサムネ -->
        <img id="prizeThumb" class="overlayThumb">
    </div>

    <div class="spinsBox">
        <span id="spinsText">残り回数：0</span>
    </div>

    <div class="gachaBtnBox">
        <button id="spinBtn" class="gachaBtn">回す！</button>
        <button id="spin10Btn" class="gachaBtn">10連で回す！</button>
    </div>

</div>

<!-- ---------------------------------------------------------
     ▼ マイコレTAB
---------------------------------------------------------- -->
<div id="collectionTab" class="tab page" style="display:none;">
    <h2 class="tabTitle">マイコレクション</h2>

    <div id="collectionList" class="collectionList"></div>
</div>

<!-- ---------------------------------------------------------
     ▼ 管理TAB
---------------------------------------------------------- -->
<div id="adminTab" class="tab page" style="display:none;">
    <h2 class="tabTitle">管理メニュー</h2>

    <div id="adminLoginBox">
        <p>管理パスワード</p>
        <input type="password" id="adminPassword" class="inputText">
        <button id="adminLoginBtn" class="adminBtn">ログイン</button>
    </div>

    <div id="adminContent" style="display:none;">

        <!-- シリアル発行 -->
        <h3>シリアル番号 発行</h3>
        <p>好きな文字を入れて発行</p>
        <input id="serialCodeInput" class="inputText" placeholder="例：yuu2025">
        <input id="serialSpinInput" class="inputText" type="number" placeholder="付与回数">
        <button id="issueSerialBtn" class="adminBtn">シリアル発行</button>

        <h4>直近10件</h4>
        <div id="serialList" class="serialList"></div>

        <hr>

        <!-- 景品アップロード -->
        <h3>景品入荷（動画登録）</h3>

        <select id="prizeRarity" class="selectBox">
            <option value="">レア度を選択</option>
            <option value="superrare">superrare</option>
            <option value="rare">rare</option>
            <option value="common">common</option>
            <option value="normal">normal</option>
        </select>

        <input type="file" id="prizeFile" class="inputFile" accept="video/mp4">
        <button id="regPrizeBtn" class="adminBtn">登録する</button>

        <h4>登録済み一覧</h4>
        <div id="prizesList" class="prizesList"></div>

        <hr>

        <!-- 確率設定 -->
        <h3>レア度確率</h3>

        <div class="rateRow">
            <label>superrare</label>
            <input id="rate_superrare" class="rateInput" type="number"> %
        </div>

        <div class="rateRow">
            <label>rare</label>
            <input id="rate_rare" class="rateInput" type="number"> %
        </div>

        <div class="rateRow">
            <label>common</label>
            <input id="rate_common" class="rateInput" type="number"> %
        </div>

        <div class="rateRow">
            <label>normal</label>
            <input id="rate_normal" class="rateInput" type="number"> %
        </div>

        <button id="saveRateBtn" class="adminBtn">確率を保存</button>

    </div>
</div>

<script src="app.js"></script>

</body>
</html>
