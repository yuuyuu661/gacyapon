<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gachapon v8.0</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- ▼ 初回ユーザー名入力モーダル -->
<div id="usernameModal" class="modal hidden">
    <div class="modal-content pop">
        <h2>あなたの名前を入力してください</h2>
        <input type="text" id="usernameInput" placeholder="名前を入力" />
        <button id="usernameSaveBtn">OK</button>
    </div>
</div>

<!-- ▼ タブメニュー -->
<div class="tab-container">
    <button class="tab-button" onclick="openTab('gachaTab')">ガチャポン</button>
    <button class="tab-button" onclick="openTab('collectionTab')">マイコレクション</button>
    <button class="tab-button" onclick="openTab('adminTab')">管理タブ</button>
</div>

<!-- ▼ ガチャポン -->
<div id="gachaTab" class="tab">
    <h2>ガチャポン</h2>

    <div class="counter-box">
        <span id="remainingCount">残り回数: 0</span>
    </div>

    <div class="gacha-wrapper">
        <img id="gachaponImage" src="gachapon.png" class="gachapon-img" />

        <!-- ▼ 動画重ね表示部分 -->
        <video id="gachaVideo" class="gacha-video" crossorigin="anonymous"></video>
        <img id="gachaThumb" class="gacha-thumb hidden" />
    </div>

    <div class="gacha-buttons">
        <button id="spinButton">回す！</button>
        <button id="spin10Button">10連で回す！</button>
    </div>

    <div id="completeStatus"></div>

    <div class="serial-box">
        <input id="serialInput" placeholder="シリアル入力" />
        <button id="useSerialBtn">回数追加</button>
    </div>
</div>

<!-- ▼ コレクション -->
<div id="collectionTab" class="tab hidden">
    <h2>マイコレクション</h2>

    <div class="rarity-block superrare">
        <h3>SUPER RARE</h3>
        <div class="slider" id="col-superrare"></div>
    </div>

    <div class="rarity-block rare">
        <h3>RARE</h3>
        <div class="slider" id="col-rare"></div>
    </div>

    <div class="rarity-block common">
        <h3>COMMON</h3>
        <div class="slider" id="col-common"></div>
    </div>

    <div class="rarity-block normal">
        <h3>NORMAL</h3>
        <div class="slider" id="col-normal"></div>
    </div>
</div>

<!-- ▼ 管理 -->
<div id="adminTab" class="tab hidden">
    <h2>管理メニュー</h2>

    <div id="adminLoginBox">
        <input id="adminPass" type="password" placeholder="管理パスワード" />
        <button id="adminLoginBtn">ログイン</button>
    </div>

    <div id="adminPanel" class="hidden">

        <h3>景品動画登録</h3>
        <select id="prizeRarity">
            <option value="superrare">superrare</option>
            <option value="rare">rare</option>
            <option value="common">common</option>
            <option value="normal">normal</option>
        </select>
        <input id="prizeUrl" placeholder="動画URL" />
        <button id="addPrizeBtn">登録</button>

        <h3>登録済み景品</h3>
        <div id="prizeList"></div>

        <h3>レア度確率設定</h3>
        <div class="rate-box">
            <label>superrare</label><input id="rate-superrare" type="number" value="2" />
            <label>rare</label><input id="rate-rare" type="number" value="20" />
            <label>common</label><input id="rate-common" type="number" value="50" />
            <label>normal</label><input id="rate-normal" type="number" value="28" />
        </div>
        <button id="saveRateBtn">確率を保存</button>

        <h3>シリアルコード発行</h3>
        <input id="serialText" placeholder="自由ワード（例：test123）" />
        <button id="generateSerialBtn">発行</button>

        <h4>直近のシリアル（5件までスクロール）</h4>
        <div id="serialLog" class="serial-log"></div>

    </div>
</div>

<script src="app.js"></script>
</body>
</html>
