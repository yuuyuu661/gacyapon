<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ガチャポン</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>🎁 ガチャポン</header>

<!-- ▼ タブ -->
<div class="tab-buttons">
    <button class="tab-btn active" data-tab="gacha">ガチャポン</button>
    <button class="tab-btn" data-tab="collection">マイコレ</button>
    <button class="tab-btn" data-tab="admin">管理</button>
</div>

<!-- =====================================================
    ▼ ガチャ画面
===================================================== -->
<div id="gacha" class="tab-content active">

    <h2>ガチャを回そう！</h2>

    <p>🔔 残り回数：<span id="spinsDisplay">0</span></p>

    <div class="serial-box">
        <input id="serialInput" placeholder="シリアルコードを入力">
        <button id="addSpinBtn">追加</button>
    </div>

    <p id="completeText" class="complete-text">コンプリートまで残り 0 種類！</p>

    <div class="gacha-area">
        <img id="gachaImage" class="gacha-img" src="gachapon.png">

        <!-- 演出動画と景品動画 -->
        <video id="effectVideo" class="effect-video" style="display:none;" playsinline></video>
        <video id="prizeVideo" class="prize-video" style="display:none;" playsinline controls></video>
    </div>

    <div class="spin-buttons">
        <button id="spinBtn" class="spin-btn">回す！</button>
        <button id="spin10Btn" class="spin-btn pink">10連で回す！</button>
    </div>

</div>


<!-- =====================================================
    ▼ マイコレ
===================================================== -->
<div id="collection" class="tab-content">

    <h2>マイコレクション</h2>

    <div class="rarity-block super-block">
        <h3 class="rarity-title super-title">SUPER RARE</h3>
        <div id="row-superrare" class="rarity-row"></div>
    </div>

    <div class="rarity-block rare-block">
        <h3 class="rarity-title rare-title">RARE</h3>
        <div id="row-rare" class="rarity-row"></div>
    </div>

    <div class="rarity-block common-block">
        <h3 class="rarity-title common-title">COMMON</h3>
        <div id="row-common" class="rarity-row"></div>
    </div>

    <div class="rarity-block normal-block">
        <h3 class="rarity-title normal-title">NORMAL</h3>
        <div id="row-normal" class="rarity-row"></div>
    </div>
</div>



<!-- =====================================================
    ▼ 管理画面
===================================================== -->
<div id="admin" class="tab-content">

    <h2>管理メニュー</h2>

    <div class="admin-auth">
        <input id="adminPass" type="password" placeholder="管理者パスワード">
        <button id="adminLoginBtn">ログイン</button>
    </div>

    <div id="adminPanel" style="display:none;">

        <!-- 🔑 シリアル発行を上へ -->
        <section class="admin-section">
            <h3>🔑 シリアルコード発行</h3>

            <input id="serialWord" placeholder="文字列（例：yuu2025）">
            <input id="serialSpins" type="number" min="1" placeholder="付与回数">

            <button id="issueSerialBtn">発行</button>

            <h4>直近の発行履歴</h4>
            <div id="serialLog" class="serial-log"></div>
        </section>


        <!-- 🎲 レア度確率 -->
        <section class="admin-section">
            <h3>🎲 レア度確率設定</h3>
            <div class="rate-box">
                <label>superrare (%)：<input id="rateSuper" type="number" min="0"></label>
                <label>rare (%)：<input id="rateRare" type="number" min="0"></label>
                <label>common (%)：<input id="rateCommon" type="number" min="0"></label>
                <label>normal (%)：<input id="rateNormal" type="number" min="0"></label>
            </div>
            <button id="saveRateBtn">保存</button>
        </section>



        <!-- 📦 景品登録 -->
        <section class="admin-section">
            <h3>📦 景品動画の登録</h3>

            <select id="prizeRarity">
                <option value="superrare">SUPER RARE</option>
                <option value="rare">RARE</option>
                <option value="common">COMMON</option>
                <option value="normal">NORMAL</option>
            </select>

            <input id="prizeFile" type="file" accept="video/*">
            <button id="addPrizeBtn">登録</button>

            <h4>登録済み景品</h4>

            <!-- レア度ごとに横スクロール -->
            <div class="prize-row" id="prizeRow-superrare"></div>
            <div class="prize-row" id="prizeRow-rare"></div>
            <div class="prize-row" id="prizeRow-common"></div>
            <div class="prize-row" id="prizeRow-normal"></div>

        </section>

    </div>

</div>


<script src="app.js"></script>

</body>
</html>
