/* Base */
:root { color-scheme: light; }
* { box-sizing: border-box; }

body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto,
               "Hiragino Kaku Gothic ProN", "Noto Sans JP",
               "Yu Gothic", sans-serif;
  background: #fff;
  margin: 0;
}

header {
  background: #ffb6c1;
  padding: 10px;
  position: sticky;
  top: 0;
  z-index: 10;
}

h1 {
  text-align: center;
  margin: 0 0 8px;
  font-size: clamp(18px, 2.6vw, 28px);
}

.topbar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

nav {
  display: flex;
  gap: 8px;
  justify-content: center;
  flex-wrap: wrap;
}

nav button {
  margin: 0 6px;
  padding: 10px 14px;
  border-radius: 10px;
  border: 1px solid #e08aa0;
  background: #fff;
  cursor: pointer;
  font-size: clamp(12px, 2.8vw, 16px);
}

.admin-actions button {
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid #aaa;
  background: #fff;
  cursor: pointer;
}

/* Tabs */
.tab {
  display: none;
  padding: 16px;
  max-width: 1100px;
  margin: 0 auto;
}
.tab.active {
  display: block;
}

/* Gacha stage */
.gacha-center {
  margin-top: 16px;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.gacha-stage {
  position: relative;
  width: min(92vw, 520px);
  aspect-ratio: 4 / 3;
  border-radius: 14px;
  overflow: hidden;
  background: #fafafa;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
}

#gacha-illust,
.stage-video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
}
#gacha-illust { display: block; }
.stage-video { display: block; background: #000; }

.roll-btn {
  padding: 12px 22px;
  background: #ff3571;
  color: #fff;
  border: none;
  border-radius: 12px;
  font-size: clamp(16px, 4.8vw, 20px);
  cursor: pointer;
}

.hidden { display: none !important; }

/* Inputs */
.field-label {
  display: block;
  font-weight: 700;
  margin: 12px 0 6px;
}

.form-grid {
  display: grid;
  grid-template-columns: minmax(260px, 1fr);
  gap: 12px 18px;
}

.form-row input,
.form-row select {
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 10px;
  font-size: 16px;
}

/* Serial inline */
.serial-inline {
  display: flex;
  gap: 8px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 4px;
}

.serial-inline input {
  padding: 10px 12px;
  border: 1px solid #ddd;
  border-radius: 10px;
  min-width: 220px;
}

/* Collection grid */
.collection {
  list-style: none;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

.collection li {
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.collection .meta {
  font-size: 12px;
  color: #555;
}

.collection video {
  width: 100%;
  border-radius: 8px;
  background: #000;
}

.collection .actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

/* Admin table */
.card {
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 16px;
  margin: 8px 0 16px;
  background: #fff;
}

.table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
  font-size: 14px;
}

.table th,
.table td {
  border: 1px solid #eee;
  padding: 8px;
  vertical-align: top;
  text-align: left;
}

.table th {
  background: #fff5f7;
  white-space: nowrap;
}

.table select,
.table input[type="file"] {
  width: 100%;
}

.table input[type="checkbox"] {
  transform: scale(1.2);
}

.badge {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 6px;
  background: #f0f0f0;
  font-size: 12px;
}

.actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

button.secondary {
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 6px 10px;
  cursor: pointer;
}

/* Admin visibility */
.admin-only { display: none; }
.admin-visible .admin-only { display: inline-block; }

/* Admin 2-col grid */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 16px;
}

/* Serial status + scroll list */
.serial-status {
  margin-top: 8px;
  font-size: 13px;
  color: #333;
}

.serial-badge {
  display: inline-block;
  padding: 4px 8px;
  border: 1px dashed #aaa;
  border-radius: 8px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  background: #fafafa;
}

.serial-list-table {
  width: 100%;
  border-collapse: collapse;
}

.serial-list-table th,
.serial-list-table td {
  border: 1px solid #eee;
  padding: 6px;
  font-size: 13px;
}

.serial-list-table th {
  background: #fff5f7;
}

.scroll-rows {
  max-height: 180px;
  overflow: auto;
  border: 1px solid #eee;
  border-radius: 8px;
  padding: 6px;
  background: #fff;
}
.complete-status {
  font-size: 18px;
  margin-top: 10px;
  font-weight: bold;
}

.complete-red {
  color: #ff3b3b;
}

.complete-black {
  color: #333;
}

.complete-gold {
  color: #d4af37;
  text-shadow: 0 0 4px rgba(255,215,0,0.7);
}

.bonus-btn {
  background: gold;
  color: black;
  padding: 10px 18px;
  border-radius: 10px;
  border: none;
  margin-top: 8px;
  font-size: 18px;
  cursor: pointer;
}
/* ▼ マイコレ 全体 */
#collection-wrap {
  display: flex;
  flex-direction: column;
  gap: 22px;
}

/* ▼ レア度ブロック */
.col-block {
  padding: 12px;
  border-radius: 12px;
  background: #fff;
  border: 2px solid #eee;
}

/* ▼ タイトル（色付きライン） */
.col-title {
  margin: 0 0 10px;
  padding: 6px 12px;
  font-size: 18px;
  font-weight: bold;
  border-radius: 8px;
  color: #fff;
}

/* 枠色 */
.sr-title { background: #b57bff; }   /* 紫 */
.r-title  { background: #ffd700; }   /* 金 */
.c-title  { background: #c0c0c0; }   /* 銀 */
.n-title  { background: #cd7f32; }   /* 銅 */

/* ▼ 横並びリスト */
.collection-list {
  list-style: none;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
}

/* ▼ アイテムカード */
.collection-list li {
  border-radius: 10px;
  padding: 8px;
  width: 180px;
  background: #fafafa;
  border: 2px solid transparent;
}

.collection-list li video {
  width: 100%;
  border-radius: 8px;
  background: #000;
}

.collection-list li .meta {
  font-size: 12px;
  margin-bottom: 4px;
  color: #333;
}

/* ▼ 枠の色（レア度） */
[data-rarity="superrare"] li { border-color: #b57bff; }
[data-rarity="rare"]       li { border-color: #ffd700; }
[data-rarity="common"]     li { border-color: #c0c0c0; }
[data-rarity="normal"]     li { border-color: #cd7f32; }

/* Mobile tweaks */
@media (max-width: 480px) {
  .gacha-stage { width: 94vw; }
  .serial-inline input { min-width: 60vw; }
}
